#class newbie_wd open;
#var task_running 0;
#alias {newbie.q.cancel} {
    gt wd;
    on_there {
        ask chongxu about cancel;
        #var task_running 0;
        show_to_quest È¡ÏûÈÎÎñ³É¹¦;
    };
};
#alias {newbie.q.success} {
    gt wd;
    on_there {
        ask chongxu about success;
        #class newbie_wd.waitquest kill;
        #var task_running 0;
    };
};
#alias {newbie.q} {
    #class newbie_wd.inner open;

    #alias {newbie.start} {
        ask chongxu about quest;
        #nop showme ÄãÏò³åĞéµÀ³¤´òÌıÓĞ¹Ø¡ºquest¡»µÄÏûÏ¢¡£;
        #nop showme ÎÒÃÇ¾Í´Ó×î¼òµ¥µÄÎåĞĞÕó¿ªÊ¼°É£¬ÅÔ±ßĞ¡Ğ£³¡ÉÏÓĞ½ÌÏ°½Ì´ó¼ÒÔõÃ´ĞĞ×ßÎåĞĞÕó¡£¡¹;
        #nop showme ×¯ÒàĞ°Ò»»á¶ùÕ¾ÔÚË®Î»;
        #nop showme ³åĞéµÀ³¤ËµµÀ£º¡¸½ñÌìÈ«ÅÉµÜ×ÓÒªÔÚÓáá·ÑÒ×¡´¦Êì¶Áµä¼®£¬¾İËµÒªËĞ³ª×¯×Ó¡¤ÔÓÆª¡¸ÉÏ¾í¡¹µÄ×¯×Ó¡¤ÔÓÆª¡¤¸ıÉ£³ş(12);
        #nop showme ==                    µÀ¿ÉµÀ·Ç³£µÀÃû¿ÉÃû·Ç                    ==;
        #nop showme ==                    µÀ¿ÉµÀ·Ç³£µÀÃû¿ÉÃû·Ç                    ==;
        #nop showme =============================================================;
        #nop var sj_book ×¯×Ó¡¤ÄÚÆª¡¸ÉÏ¾í¡¹;
        #nop var sj_article ×¯×Ó¡¤ÄÚÆª¡¤åĞÒ£ÓÎ;
        #nop var sj_page 18;
        #nop newbie.sj.check;
    };

    #alias {newbie.sj.return} {
        gt ¸´Õæ¹Û¶ş²ã;
        on_there {
            give jing to zhike;
        };
    };

    #alias {newbie.sj.check} {
        #class newbie_wd.sj.check open;
        #var sj_book %0;
        #var sj_article %1;
        #var sj_page %2;

        #action {==%s%S%s==} {
            #nop if {"$sj_start_page" != "0"}
            #var xj_content %%%1;
            #var sj_content ${sj_content}%%%2;
            #nop echo { -- $sj_content -- };
        };

        #action {ÉÏÒ»Ò³(pageup)/ÏÂÒ»Ò³(pagedown)%sËĞ¾­(chanting)} {
            #delay (chant) {
                #echo {ËĞ¶Á¿ªÊ¼: $sj_content };
                chanting $sj_start_page $sj_content;
                #var sj_content {};
            } {5};
        };

        #action {ÄãËĞ³ªÍêÁËÕû¶Î¾­Êé} {
            newbie.sj.return;
            newbie.q.success;
            #class newbie_wd.sj.check kill;
        };

        #var sj_start_page 0;
        #IF {"$sj_book" == "×¯×Ó¡¤ÍâÆª¡¸ÉÏ¾í¡¹"} {
            #IF {"$sj_article" == "×¯×Ó¡¤ÍâÆª¡¤æéÄ´"} {#math sj_start_page $sj_page+0};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÍâÆª¡¤ÂíÌã"} {#math sj_start_page $sj_page+3};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÍâÆª¡¤Ãlóæ"} {#math sj_start_page $sj_page+11};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÍâÆª¡¤ÔÚå¶"} {#math sj_start_page $sj_page+30};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÍâÆª¡¤ÌìµØ"} {#math sj_start_page $sj_page+65};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÍâÆª¡¤ÌìµÀ"} {#math sj_start_page $sj_page+115};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÍâÆª¡¤ÌìÔË"} {#math sj_start_page $sj_page+150};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÍâÆª¡¤¿ÌÒâ"} {#math sj_start_page $sj_page+189};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÍâÆª¡¤ÉÉĞÔ"} {#math sj_start_page $sj_page+200};
        };
        #ELSEIF {"$sj_book" == "×¯×Ó¡¤ÍâÆª¡¸ÏÂ¾í¡¹"} {
            #IF {"$sj_article" == "×¯×Ó¡¤ÍâÆª¡¤ÇïË®"} {#math sj_start_page $sj_page+0};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÍâÆª¡¤ÖÁÀÖ"} {#math sj_start_page $sj_page+50};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÍâÆª¡¤´ïÉú"} {#math sj_start_page $sj_page+68};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÍâÆª¡¤É½Ä¾"} {#math sj_start_page $sj_page+106};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÍâÆª¡¤Ìï×Ó·½"} {#math sj_start_page $sj_page+142};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÍâÆª¡¤Öª±±ÓÎ"} {#math sj_start_page $sj_page+176};
        };
        #ELSEIF {"$sj_book" == "×¯×Ó¡¤ÄÚÆª¡¸ÉÏ¾í¡¹"} {
            #IF {"$sj_article" == "×¯×Ó¡¤ÄÚÆª¡¤åĞÒ£ÓÎ"} {#math sj_start_page $sj_page+0};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÄÚÆª¡¤ÆëÎïÂÛ"} {#math sj_start_page $sj_page+20};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÄÚÆª¡¤ÑøÉúÖ÷"} {#math sj_start_page $sj_page+68};
        };
        #ELSEIF {"$sj_book" == "×¯×Ó¡¤ÄÚÆª¡¸ÏÂ¾í¡¹"} {
            #IF {"$sj_article" == "×¯×Ó¡¤ÄÚÆª¡¤ÈË¼äÊÀ"} {#math sj_start_page $sj_page+0};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÄÚÆª¡¤µÂ³ä·û"} {#math sj_start_page $sj_page+45};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÄÚÆª¡¤´ó×ÚÊ¦"} {#math sj_start_page $sj_page+76};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÄÚÆª¡¤Ó¦µÛÍõ"} {#math sj_start_page $sj_page+123};
        };
        #ELSEIF {"$sj_book" == "×¯×Ó¡¤ÔÓÆª¡¸ÉÏ¾í¡¹"} {
            #IF {"$sj_article" == "×¯×Ó¡¤ÔÓÆª¡¤¸ıÉ£³ş"} {#math sj_start_page $sj_page+0};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÔÓÆª¡¤ĞìÎŞ¹í"} {#math sj_start_page $sj_page+41};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÔÓÆª¡¤ÔòÑô"} {#math sj_start_page $sj_page+97};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÔÓÆª¡¤ÍâÎï"} {#math sj_start_page $sj_page+140};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÔÓÆª¡¤Ô¢ÑÔ"} {#math sj_start_page $sj_page+167};
        };
        #ELSEIF {"$sj_book" == "×¯×Ó¡¤ÔÓÆª¡¸ÏÂ¾í¡¹"} {
            #IF {"$sj_article" == "×¯×Ó¡¤ÔÓÆª¡¤ÈÃÍõ"} {#math sj_start_page $sj_page+0};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÔÓÆª¡¤µÁõÅ"} {#math sj_start_page $sj_page+46};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÔÓÆª¡¤Ëµ½£"} {#math sj_start_page $sj_page+98};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÔÓÆª¡¤Óæ¸¸"} {#math sj_start_page $sj_page+113};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÔÓÆª¡¤ÁĞÓù¿Ü"} {#math sj_start_page $sj_page+138};
            #ELSEIF {"$sj_article" == "×¯×Ó¡¤ÔÓÆª¡¤ÌìÏÂ"} {#math sj_start_page $sj_page+164};
        };
        #ELSEIF {"$sj_book" == "µÀµÂ¾­¡¸ÉÏ¾í¡¹"} {
            #IF {$sj_page <= 15} {#var sj_start_page $sj_page};
            #ELSEIF {$sj_page >=16 && $sj_page <= 20} {#math sj_start_page $sj_page+1};
            #ELSE {#math sj_start_page $sj_page+2};
            #var sj_start_page $sj_page;
        };
        #ELSEIF {"$sj_book" == "µÀµÂ¾­¡¸ÏÂ¾í¡¹"} {
            #math sj_start_page $sj_page-40;
        };
        #ELSEIF {"$sj_book" == "µÀµÂ¾­¡¸ÉÏ¾í¡¹"} {
            #var sj_start_page $sj_page;
        };

        #var sj_content {};
        page $sj_start_page;
        #class newbie_wd.sj.check close;
    };

    #alias {newbie.sj} {
        #var sj_address %0;
        #var sj_book %1;
        
        n;
        ask song about ÏÂÉ½;
        gt ¸´Õæ¹Û¶ş²ã;
        on_there {
            jie ${sj_book};
            gt ${sj_address};
            on_there {
                newbie.sj.check;
            };
        };
    };

    #action {ÄãÏò³åĞéµÀ³¤´òÌıÓĞ¹Ø} {
        #class newbie_wd.waitquest open;
        #action {µÀĞÖ»¹ÓĞÈÎÎñÔÚÉí} {
            #if {"$task_running" == "1"} {
                #echo {task is running........};
                #return;
            }
            ask chongxu about cancel;
            ask chongxu about quest;
        };
        #action {ÏÖÔÚ»¹Ã»ÓĞĞÂµÄ¹¤×÷¿ÉÒÔ·ÖÅä¸øÄã} {
            #if {"$task_running" == "1"} {
                #echo {task is running........};
                #return;
            }
            #delay {10} {
                #class newbie_wd.waitquest kill;
                #var task_running 0;
                newbie.start;
            };
        };
        #action {³åĞéµÀ³¤ËµµÀ£º¡¸½ñÌìÈ«ÅÉµÜ×ÓÒªÔÚ%*Êì¶Áµä¼®£¬¾İËµÒªËĞ³ª%*µÄ%*(%*)} {
            #if {"$task_running" == "1"} {
                #echo {task is running........};
                #return;
            }
            #var task_running 1;
            #class wd_songjing_a open;
                #var sj_address %%%1;
                #var sj_book %%%2;
                #var sj_article %%%3;
                #var sj_page %%%4;
                #nop echo {-- $sj_address $sj_book $sj_article $sj_page --};
                show_to_quest ËĞ¾­: ${sj_address}/${sj_book}/${sj_article}/${sj_page};
                newbie.sj ${sj_address} ${sj_book};
            #class wd_songjing_a close;
            #var task_running 0;
        };
        #action {³åĞéµÀ³¤ËµµÀ£º¡¸½ñÌìÈ«ÅÉµÜ×ÓÒªÔÚ%*Êì¶Áµä¼®£¬¾İËµÒªËĞ³ª%*µÄµÚ%*Ê®%*ÕÂ} { #nop ];
            #if {"$task_running" == "1"} {
                #echo {task is running........};
                #return;
            }
            #var task_running 1;
            #class wd_songjing_b open;
                #var sj_address %%%1;
                #var sj_book %%%2;
                #var sj_article %%%3;
                #var sj_chapter %%%4;

                #var sj_page 0;
                #IF {"$sj_article" == "Ò»"} {#var sj_page 10};
                #ELSEIF {"$sj_article" == "¶ş"} {#var sj_page 20};
                #ELSEIF {"$sj_article" == "Èı"} {#var sj_page 30};
                #ELSEIF {"$sj_article" == "ËÄ"} {#var sj_page 40};
                #ELSEIF {"$sj_article" == "Îå"} {#var sj_page 50};
                #ELSEIF {"$sj_article" == "Áù"} {#var sj_page 60};
                #ELSEIF {"$sj_article" == "Æß"} {#var sj_page 70};
                #ELSEIF {"$sj_article" == "°Ë"} {#var sj_page 80};
                #ELSEIF {"$sj_article" == "¾Å"} {#var sj_page 90};

                #IF {"$sj_chapter" == "Ò»"} {#math sj_page $sj_page+1};
                #ELSEIF {"$sj_chapter" == "¶ş"} {#math sj_page $sj_page+2};
                #ELSEIF {"$sj_chapter" == "Èı"} {#math sj_page $sj_page+3};
                #ELSEIF {"$sj_chapter" == "ËÄ"} {#math sj_page $sj_page+4};
                #ELSEIF {"$sj_chapter" == "Îå"} {#math sj_page $sj_page+5};
                #ELSEIF {"$sj_chapter" == "Áù"} {#math sj_page $sj_page+6};
                #ELSEIF {"$sj_chapter" == "Æß"} {#math sj_page $sj_page+7};
                #ELSEIF {"$sj_chapter" == "°Ë"} {#math sj_page $sj_page+8};
                #ELSEIF {"$sj_chapter" == "¾Å"} {#math sj_page $sj_page+9};

                show_to_quest ËĞ¾­: ${sj_address}/${sj_book}/${sj_article}/${sj_page};
                newbie.sj ${sj_address} ${sj_book};
            #class wd_songjing_b close;
            #var task_running 0;
        };
        #action {³åĞéµÀ³¤ËµµÀ£º¡¸½ñÌìÈ«ÅÉµÜ×ÓÒªÔÚ%*Êì¶Áµä¼®£¬¾İËµÒªËĞ³ª%*µÄµÚ%*ÕÂ} { #nop ];
            #if {"$task_running" == "1"} {
                #echo {task is running........};
                #return;
            }
            #var task_running 1;
            #class wd_songjing_c open;
                #var sj_address %%%1;
                #var sj_book %%%2;
                #var sj_article %%%3;

                #var sj_page 0;
                #IF {"$sj_article" == "Ò»"} {#var sj_page 1};
                #ELSEIF {"$sj_article" == "¶ş"} {#var sj_page 2};
                #ELSEIF {"$sj_article" == "Èı"} {#var sj_page 3};
                #ELSEIF {"$sj_article" == "ËÄ"} {#var sj_page 4};
                #ELSEIF {"$sj_article" == "Îå"} {#var sj_page 5};
                #ELSEIF {"$sj_article" == "Áù"} {#var sj_page 6};
                #ELSEIF {"$sj_article" == "Æß"} {#var sj_page 7};
                #ELSEIF {"$sj_article" == "°Ë"} {#var sj_page 8};
                #ELSEIF {"$sj_article" == "¾Å"} {#var sj_page 9};
                #ELSEIF {"$sj_article" == "Ê®"} {#var sj_page 10};

                show_to_quest ËĞ¾­: ${sj_address}/${sj_book}/µÚ${sj_article}ÕÂ/${sj_page};
                newbie.sj ${sj_address} ${sj_book};
            #class wd_songjing_c close;
            #var task_running 0;
        };

        #action {Äãµ½Óáá·ÑÒÄÇÀï°ïËû¿´¿´Â¯»ğ°É} {
            #if {"$task_running" == "1"} {
                #echo {task is running........};
                #return;
            }
            #var task_running 1;
            #class wd_liandan open;
            #delay {kanluhuo} {
                show_to_quest Á¶µ¤ÈÎÎñ¿ªÊ¼;
                n;n;n;n;e;e;
                ask yu about Á¶µ¤;
                s;
                zuo;
                kan;
            } {3}
            #action {ÎÒ»¹Ã»ÓĞ¿ªÊ¼Á¶µ¤ÄØ£¬²»Òª×Å¼±} {
                zhan; 
                gt wd;
                on_there {
                    show_to_quest Á¶µ¤ÈÎÎñÈ¡Ïû;
                    ask chongxu about cancel;
                    #var task_running 0;
                    #class wd_liandan kill;
                    #class newbie_wd.waitquest kill;
                    #nop newbie.start;
                };
            };
            #action {¸Ï½ôÏòÓáá·ÑÒ±¨¸æ} {
                zhan; n; 
                ask yu about Á¶µ¤; 
            };
            #action {¿ì»ØÈ¥Ïò³åĞéµÀ³¤±¨¸æÁ¶µ¤Çé¿ö°É} {
                gt wd;
                on_there {
                    show_to_quest Á¶µ¤ÈÎÎñ³É¹¦;
                    ask chongxu about success;
                    #var task_running 0;
                    #class wd_liandan kill;
                    #class newbie_wd.waitquest kill;
                    #nop newbie.start;
                };
            };
            #action {~*********[1;35m^[2;37;0m********} {
                change M
            };
            #action {~*********[1;31m^[2;37;0m********} {
                change L
            };
            #action {~*********[1;33m^[2;37;0m********} {
                change H
            };
            #class wd_liandan close;
        };

        #action {ÅÔ±ßĞ¡Ğ£³¡ÉÏÓĞ½ÌÏ°½Ì´ó¼ÒÔõÃ´ĞĞ×ßÎåĞĞÕó} {
            #if {"$task_running" == "1"} {
                #echo {task is running........};
                #return;
            }
            #var task_running 1;
            #class wd_zhenfa open;
                #var myloc ¿Õ;
                #var myvar ¿Õ;
                #alias {zhenfa.start} {
                    east; zhenfa;
                };
                #action {ÑİÏ°Õó·¨µÄ½ÌÏ°¶¼ÔÚÊ¹ÓÃÖĞ} {
                    show_to_quest Õó·¨È¡Ïû;
                    newbie.q.cancel;
                    #class wd_zhenfa kill;
                };
                #action {ÇëµÈ¶Ô·½ÑİÏ°½áÊøÔÙ½øÈ¥°É} {
                    #delay {5} {
                        zhenfa.start;
                    };
                };
                #action {^×¯ÒàĞ°Ò»»á¶ùÕ¾ÔÚ%*Î»} {
                    show_to_quest Õó·¨¿ªÊ¼;
                    #var myloc %%%%1;
                    zouwei $myloc;
                };
                #action {ÎåĞĞÕóÑİÁ·µ½´Ë½áÊø} {
                    show_to_quest Õó·¨³É¹¦;
                    gt wd;
                    on_there {
                        ask chongxu about success;
                        #class wd_zhenfa kill;
                        #var task_running 0;
                    };
                };
                #action {´ó¼ÒÖ»ºÃ¶¼Í£ÏÂÀ´} {
                    show_to_quest Õó·¨Ê§°Ü;                
                    #class wd_zhenfa kill;
                    #var task_running 0;
                };
                #action {Î»ÖÃ°´ÕÕ¡º%*ÎåĞĞÕó¡»µÄÒªÇóÍùÏÂ×ßÒ»²½} {
                    #var myvar %%%%1;
                    #IF {"$myvar" == "Õı" && "$myloc" == "½ğ"}
                    {
                        zouwei Ë®;
                        #var myloc Ë®;
                    };
                    #ELSEIF {"$myvar" == "Õı" && "$myloc" == "Ë®"}
                    {
                        zouwei Ä¾;
                        #var myloc Ä¾;
                    };
                    #ELSEIF {"$myvar" == "Õı" && "$myloc" == "Ä¾"}
                    {
                        zouwei »ğ;
                        #var myloc »ğ;
                    };
                    #ELSEIF {"$myvar" == "Õı" && "$myloc" == "»ğ"}
                    {
                        zouwei ÍÁ;
                        #var myloc ÍÁ;
                    };
                    #ELSEIF {"$myvar" == "Õı" && "$myloc" == "ÍÁ"}
                    {
                        zouwei ½ğ;
                        #var myloc ½ğ;
                    };
                    #ELSEIF {"$myvar" == "·´" && "$myloc" == "½ğ"}
                    {
                        zouwei Ä¾;
                        #var myloc Ä¾;
                    };
                    #ELSEIF {"$myvar" == "·´" && "$myloc" == "Ä¾"}
                    {
                        zouwei ÍÁ;
                        #var myloc ÍÁ;
                    };
                    #ELSEIF {"$myvar" == "·´" && "$myloc" == "ÍÁ"}
                    {
                        zouwei Ë®;
                        #var myloc Ë®;
                    };
                    #ELSEIF {"$myvar" == "·´" && "$myloc" == "Ë®"}
                    {
                        zouwei »ğ;
                        #var myloc »ğ;
                    };
                    #ELSEIF {"$myvar" == "·´" && "$myloc" == "»ğ"}
                    {
                        zouwei ½ğ;
                        #var myloc ½ğ;
                    };
                };
                zhenfa.start;
            #class wd_zhenfa close;
        };

        #action {µ½ÌìÖù·å½ÅÏÂ²ÉÆø£¨caiqi£©Ò»´Îºó»ØÀ´ÏòÎÒ»ã±¨ĞÄµÃÌå»á} {
            #if {"$task_running" == "1"} {
                #echo {task is running........};
                #return;
            }
            #var task_running 1;
            show_to_quest ²ÉÆø;                
            n;n;n;n;n;n;
        };

        #class newbie_wd.waitquest close;
    };

    #class newbie_wd.inner close;

    newbie.start;
};

#alias {newbie.stop} {
    #class newbie_wd.inner kill;
    show_to_quest ĞÂÊÖÈÎÎñ½áÊø;
};

#class newbie_wd close;
